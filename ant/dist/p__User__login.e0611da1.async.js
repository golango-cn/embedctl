(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{MZhU:function(M,c,a){M.exports={main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Z1IU:function(M,c,a){"use strict";a.r(c);var H=a("DYRE"),x=a("zeV3"),L=a("WmNS"),j=a.n(L),X=a("miYZ"),C=a("tsqr"),T=a("9og8"),w=a("Znn+"),m=a("ZTPi"),P=a("k1fw"),I=a("tJVT"),k=a("fOrg"),U=a("+KLJ"),A=a("cJ7L"),K=a("MGYb"),R=a("FQ2w"),W=a("cGnJ"),F=a("Y0UT"),y=a("80zm"),N=a("CZrw"),f=a("q1tI"),q=a.n(f),z=a("VMEa"),O=a("Qurx"),S=a("/aGu"),Z=a("tneF"),s=a("9kvl"),J=a("63rs"),G=a("MZhU"),t=a.n(G),e=a("nKUr"),ee=a.n(e),b=function(o){var u=o.content;return Object(e.jsx)(U.a,{style:{marginBottom:24},message:u,type:"error",showIcon:!0})},V=function(o){var u=o.userLogin,D=u===void 0?{}:u,E=o.submitting,p=D.status,h=D.type,Y=Object(f.useState)("account"),v=Object(I.a)(Y,2),g=v[0],$=v[1],_=Object(s.f)(),Q=function(n){var r=o.dispatch;r({type:"login/login",payload:Object(P.a)(Object(P.a)({},n),{},{type:g})})};return Object(e.jsxs)("div",{className:t.a.main,children:[Object(e.jsxs)(z.a,{initialValues:{autoLogin:!0},submitter:{render:function(n,r){return r.pop()},submitButtonProps:{loading:E,size:"large",style:{width:"100%"}}},onFinish:function(n){return Q(n),Promise.resolve()},children:[Object(e.jsxs)(m.a,{activeKey:g,onChange:$,children:[Object(e.jsx)(m.a.TabPane,{tab:_.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),Object(e.jsx)(m.a.TabPane,{tab:_.formatMessage({id:"pages.login.phoneLogin.tab",defaultMessage:"\u624B\u673A\u53F7\u767B\u5F55"})},"mobile")]}),p==="error"&&h==="account"&&!E&&Object(e.jsx)(b,{content:_.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\u8D26\u6237\u6216\u5BC6\u7801\u9519\u8BEF\uFF08admin/ant.design)"})}),g==="account"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(O.a,{name:"userName",fieldProps:{size:"large",prefix:Object(e.jsx)(A.a,{className:t.a.prefixIcon})},placeholder:_.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"\u7528\u6237\u540D: admin or user"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),Object(e.jsx)(O.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(K.a,{className:t.a.prefixIcon})},placeholder:_.formatMessage({id:"pages.login.password.placeholder",defaultMessage:"\u5BC6\u7801: ant.design"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),p==="error"&&h==="mobile"&&!E&&Object(e.jsx)(b,{content:"\u9A8C\u8BC1\u7801\u9519\u8BEF"}),g==="mobile"&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(O.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(R.a,{className:t.a.prefixIcon})},name:"mobile",placeholder:_.formatMessage({id:"pages.login.phoneNumber.placeholder",defaultMessage:"\u624B\u673A\u53F7"}),rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.required",defaultMessage:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\uFF01"})},{pattern:/^1\d{10}$/,message:Object(e.jsx)(s.a,{id:"pages.login.phoneNumber.invalid",defaultMessage:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),Object(e.jsx)(S.a,{fieldProps:{size:"large",prefix:Object(e.jsx)(W.a,{className:t.a.prefixIcon})},captchaProps:{size:"large"},placeholder:_.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(n,r){return n?"".concat(r," ").concat(_.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):_.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},name:"captcha",rules:[{required:!0,message:Object(e.jsx)(s.a,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var l=Object(T.a)(j.a.mark(function n(r){var B;return j.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(J.b)(r);case 2:if(B=i.sent,B!==!1){i.next=5;break}return i.abrupt("return");case 5:C.default.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F\uFF01\u9A8C\u8BC1\u7801\u4E3A\uFF1A1234");case 6:case"end":return i.stop()}},n)}));return function(n){return l.apply(this,arguments)}}()})]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(Z.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(s.a,{id:"pages.login.rememberMe",defaultMessage:"\u81EA\u52A8\u767B\u5F55"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(s.a,{id:"pages.login.forgotPassword",defaultMessage:"\u5FD8\u8BB0\u5BC6\u7801"})})]})]}),Object(e.jsxs)(x.b,{className:t.a.other,children:[Object(e.jsx)(s.a,{id:"pages.login.loginWith",defaultMessage:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"}),Object(e.jsx)(F.a,{className:t.a.icon}),Object(e.jsx)(y.a,{className:t.a.icon}),Object(e.jsx)(N.a,{className:t.a.icon})]})]})};c.default=Object(s.c)(function(d){var o=d.login,u=d.loading;return{userLogin:o,submitting:u.effects["login/login"]}})(V)}}]);
